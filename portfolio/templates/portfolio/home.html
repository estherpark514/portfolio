{% load static %}
<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Portfoio Website</title>
    <link rel="stylesheet" href="{% static 'portfolio/style.css' %}">
    <script src="https://kit.fontawesome.com/8d64982863.js" crossorigin="anonymous"></script>
</head>
<body>
<body class="light-grey content" style="max-width:1600px">

<!-- Sidebar/menu -->
<nav class="sidebar collapse white animate-left" style="z-index:3;width:300px;" id="mySidebar"><br>
    <div class="container">
        <a href="#" onclick="close()" class="hide-large right jumbo padding hover-grey" title="close menu">
            <i class="fa fa-remove"></i>
        </a>
        <img src="{{ personal_info.image.url }}" style="width:45%;" class="round"><br><br>
        <h4><b>{{ personal_info.name }}</b></h4>
        <p class="text-grey">{{ personal_info.institute }}</p>
        <p class="text-grey">{{ personal_info.degree }}</p>
    </div>
    <div class="bar-block">
        <a href="#portfolio" onclick="close()" class="bar-item button padding text-teal">
            <i class="fa fa-th-large fa-fw margin-right"></i>PORTFOLIO
        </a> 
        <a href="#about" onclick="close()" class="bar-item button padding">
            <i class="fa fa-user fa-fw margin-right"></i>ABOUT
        </a> 
        <a href="#contact" onclick="close()" class="bar-item button padding">
            <i class="fa-regular fa-envelope margin-right"></i>CONTACT
        </a>
    </div>
    <div class="panel large">
        {% if personal_info.linkedin_link %}
            <a href="{{ personal_info.linkedin_link }}" target="_blank">
                <i class="fa fa-linkedin hover-opacity"></i>
            </a>
        {% endif %}
        {% if personal_info.github_link %}
            <a href="{{ personal_info.github_link }}" target="_blank">
                <i class="fa fa-github hover-opacity"></i>
            </a>
        {% endif %}
    </div>
</nav>

    
    <!-- Overlay effect when opening sidebar on small screens -->
    <div class="overlay hide-large animate-opacity" onclick="close()" style="cursor:pointer" title="close side menu" id="myOverlay"></div>
    
    <!-- !PAGE CONTENT! -->
    <div class="main" style="margin-left:300px">
    
    <!-- Header -->
    <header id="portfolio">
        <a href="#"><img src="{{ personal_info.image.url }}" style="width:65px;" class="circle right margin hide-large hover-opacity"></a>
        <span class="button hide-large xxlarge hover-text-grey" onclick="open()"><i class="fa fa-bars"></i></span>
        <div class="container">
        <h1><b>PORTFOLIO</b></h1>
        <!-- Add these buttons to filter by category -->
        <div class="section bottombar padding-16">
            <span class="margin-right">Filter:</span> 
            <a href="?category=all" class="button black btn {% if not current_category or current_category == 'all' %}active{% endif %}">ALL</a>
            <a href="?category=internship" class="button white {% if current_category == 'internship' %}active{% endif %}">Internship</a>
            <a href="?category=research" class="button white {% if current_category == 'research' %}active{% endif %}">Research</a>
            <a href="?category=extracurricular" class="button white {% if current_category == 'extracurricular' %}active{% endif %}">Extracurricular</a>
        </div>
    </header>

    <div class="container">
        {% for item in portfolio_items %}
            <div class="third container {{ item.category }} margin-bottom">
                <img src="{{ item.image.url }}" style="width:100%; height:220px" class="hover-opacity">
                <div class="container white">
                    <p><b>{{ item.title }}</b><br>
                        <sub style="color: #757575">
                            <b>{{ item.subtitle }}</b>
                            {% if item.duration %}
                                <br>{{ item.duration }}
                            {% endif %}
                        </sub></p>
                    <p>{{ item.description|truncatewords:40 }}</p>
                    <div class="margin-bottom">
                        <button class="button light-grey"><i class="fa fa-ellipsis-h margin-right"></i>Read More</button>
                    </div>
                </div>
            </div>
        {% endfor %}
    </div>
    
    
    <div class="center padding-32">
        <div class="bar">
            {% if portfolio_items.has_previous %}
                <a href="?page=1&category={{ current_category }}" class="bar-item button hover-black">«</a>
                <a href="?page={{ portfolio_items.previous_page_number }}&category={{ current_category }}" class="bar-item button hover-black">{{ portfolio_items.previous_page_number }}</a>
            {% endif %}
    
            <span class="bar-item black button">{{ portfolio_items.number }}</span>
    
            {% if portfolio_items.has_next %}
                <a href="?page={{ portfolio_items.next_page_number }}&category={{ current_category }}" class="bar-item button hover-black">{{ portfolio_items.next_page_number }}</a>
                <a href="?page={{ portfolio_items.paginator.num_pages }}&category={{ current_category }}" class="bar-item button hover-black">»</a>
            {% endif %}
        </div>
    </div>
    


    {% block content %}
        <!-- Your specific content for the home page goes here -->
        <div class="container padding-large" style="margin-bottom:32px">
            {% if about_me_content %}
                <h4 id="about"><b>About Me</b></h4>
                <p>{{ about_me_content.content|safe }}</p>
            {% endif %}
            
            <hr>
           <!-- Technical Skills Section -->
            <div class="container white padding-16">
                <h4>Technical Skills</h4>
                <!-- Progress bars / Skills -->
                {% for skill in technical_skills %}
                <p>{{ skill.name }}</p>
                    <div class="grey">
                        {% if skill.proficiency == 'Novice' %}
                            <div class="container dark-grey padding center" style="width:20%;">
                                Novice
                            </div>
                        {% elif skill.proficiency == 'Advanced Beginner' %}
                            <div class="container dark-grey padding center" style="width:40%;">
                                Advanced Beginner
                            </div>
                        {% elif skill.proficiency == 'Competent' %}
                            <div class="container dark-grey padding center" style="width:60%;">
                                Competent
                            </div>
                        {% elif skill.proficiency == 'Proficient' %}
                            <div class="container dark-grey padding center" style="width:80%;">
                                Proficient
                            </div>
                        {% elif skill.proficiency == 'Expert' %}
                            <div class="container dark-grey padding center" style="width:100%;">
                                Expert
                            </div>
                        {% else %}
                            <div class="container dark-grey padding center" style="width:0%;">
                                Unknown
                            </div>
                        {% endif %}
                    </div>
                {% endfor %}
            </div>

            <hr>
            
            <!-- Languages Section -->
            <div class="container white padding-16">
                <h4>Languages</h4>
                <!-- Progress bars / Skills -->
                {% for language in languages %}
                <p>{{ language.name }}</p>
                    <div class="grey">
                        {% if language.proficiency == 'Novice' %}
                            <div class="container dark-grey padding center" style="width:20%;">
                                Novice
                            </div>
                        {% elif language.proficiency == 'Advanced Beginner' %}
                            <div class="container dark-grey padding center" style="width:40%;">
                                Advanced Beginner
                            </div>
                        {% elif language.proficiency == 'Competent' %}
                            <div class="container dark-grey padding center" style="width:60%;">
                                Competent
                            </div>
                        {% elif language.proficiency == 'Proficient' %}
                            <div class="container dark-grey padding center" style="width:80%;">
                                Proficient
                            </div>
                        {% elif language.proficiency == 'Expert' %}
                            <div class="container dark-grey padding center" style="width:100%;">
                                Expert
                            </div>
                        {% else %}
                            <div class="container dark-grey padding center" style="width:0%;">
                                Unknown
                            </div>
                        {% endif %}
                    </div>
                {% endfor %}
            </div>
    
        <p>
            <a href="{{ resume.file.url }}" download="resume.pdf" class="button dark-grey padding-large margin-top margin-bottom">
                <i class="fa fa-download margin-right"></i>Download Resume
            </a>        
        </p>
    </div>        
    <hr>
    
    <!-- Contact Section -->
    <div class="container padding-large grey">
    <h4 id="contact"><b>Contact Me</b></h4>
    <div class="row-padding center padding-24" style="margin:0 -16px">
        <div class="third dark-grey">
        <p><i class="fa fa-envelope xxlarge text-light-grey"></i></p>
        <p>esther514514@email.com</p>
        </div>
        <div class="third teal">
        <p><i class="fa fa-map-marker xxlarge text-light-grey"></i></p>
        <p>Atlanta, GA</p>
        </div>
        <div class="third dark-grey">
        <p><i class="fa fa-phone xxlarge text-light-grey"></i></p>
        <p>(404) 606-0229</p>
        </div>
    </div>
    <hr class="opacity">
    <form action="/action_page.php" target="_blank">
        <div class="section">
        <label>Name</label>
        <input class="input border" type="text" name="Name" required>
        </div>
        <div class="section">
        <label>Email</label>
        <input class="input border" type="text" name="Email" required>
        </div>
        <div class="section">
        <label>Message</label>
        <input class="input border" type="text" name="Message" required>
        </div>
        <button type="submit" class="button black margin-bottom"><i class="fa fa-paper-plane margin-right"></i>Send Message</button>
    </form>
    </div>
    {% endblock %}
<!-- End page content -->
</div>

</body>
</html>